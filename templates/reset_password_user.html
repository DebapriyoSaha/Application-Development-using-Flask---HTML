<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

    <!-- Our CSS -->
    <!-- <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet"> -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
	<script type="text/javascript">window.setTimeout("document.getElementById('successMessage').style.display='none';", 5000); </script>

	<title>Login</title>
	<style>

		.inner-addon { 
		position: relative; 
		}

		/* style icon */
		.inner-addon .glyphicon {
		position: absolute;
		padding: 10px;
		pointer-events: none;
		}

		#password + .glyphicon {
		cursor: pointer;
		pointer-events: all;
		}

		/* align icon */
		.left-addon .glyphicon  { left:  0px;}
		.right-addon .glyphicon { right: 0px;}

		/* add padding  */
		.left-addon input{ padding-left:  30px; }
		.right-addon input{ padding-right: 30px; }

	</style>
  </head>		

<body>

	<section class="vh-100" style="background-color: rgb(45, 122, 148); position: fixed; width: 100%;">
		<h1  style="text-align:center; padding-top: 0.7rem; color:white; background-color:#333333; height: 60px; margin-top: 0px;">Welcome to Blog Lite</h1>
		<div class="container" style="margin-top: 100px";>			
		  <div class="row d-flex justify-content-center align-items-center h-100">
			<div class="col col-xl-10">
			  <div class="card" style="border-radius: 1rem;">
				<div class="row g-0">
				  <div class="col-md-7 col-lg-6 d-none d-md-block">
					<img src="../static/Images/login_image2.jpg"
					  alt="login form" class="img-fluid" style="border-radius: 1rem 0 0 1rem; height: 600px;" />
				  </div>
				  <div class="col-md-7 col-lg-5 d-flex align-items-center">
					<div class="card-body text-black" style="padding-left:10%;" >
	  
					  <form action="{{url_for('reset_password',username=username)}}" method="POST">
						{{ form.hidden_tag() }}

						<h2 class="fw-bold mb-5 pb-3" style="letter-spacing: 1px;text-align: center;">Set New Password</h2>

						<div class="form-outline mb-4 inner-addon">	
							<i class="glyphicon glyphicon-lock" style="left:0px;"></i>
							{{ form.new_password(class="form-control",id="password",placeholder="Password",style="padding-left:30px",onkeyup='check();') }}
							<i class="glyphicon glyphicon-eye-close" style="right:0px; padding-right:20px"></i>
	
						</div>
						<div class="form-outline mb-4 inner-addon">	
							<i class="glyphicon glyphicon-lock" style="left:0px;"></i>
							{{ form.confirm_password(class="form-control",id="confirm_password",placeholder="Retype Password",style="padding-left:30px",onkeyup='check();') }}
							<i class="glyphicon glyphicon-remove" id="message" style="right:0px; padding-right:20px; color:red"></i>

						</div> 
						
						  	{% include 'message.html' %}
							
	  
						<div class="text-center pt-1 mb-4" style="text-align: center;" >
						  {{ form.submit(class="btn btn-dark btn-lg btn-block") }}
						</div>
						<p class="mb-5 pb-lg-2" style="color: #393f81;">Don't have an account? <a href={{url_for('register')}}
							style="color: #393f81;">Register here</a></p>

					  </form>
	  
					</div>
				  </div>
				</div>
			  </div>
			</div>
		  </div>
		</div>
	  </section>
</body>
<script>
	// toggle password visibility
	$('#password + .glyphicon').on('click', function() {
	$(this).toggleClass('glyphicon-eye-close').toggleClass('glyphicon-eye-open'); 

	var type = document.getElementById("password").type;
			if(type=='password'){
			document.getElementById("password").type = "text";
			}else{
			document.getElementById("password").type = "password";
			}
	});

	var check = function() {
	if (document.getElementById('password').value ==
		document.getElementById('confirm_password').value & document.getElementById('confirm_password').value!= '' ) {
		document.getElementById('message').style.color = 'green';
		document.getElementById('message').className = 'glyphicon glyphicon-ok';
	} else {
		document.getElementById('message').style.color = 'red';
		document.getElementById('message').className = 'glyphicon glyphicon-remove'
		// document.getElementById('message').innerHTML = 'not matching';
	}
}

</script>
</html>